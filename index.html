<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ボートST（Start Timing）表示</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <h1>ボートST</h1>
  </header>

  <main class="main">
    <!-- 上段：環境 + 並列テーブル -->
    <section class="top-row">
      <div class="env-panel card">
        <h2>環境</h2>
        <div class="env-row">
          <label>風向</label>
          <div class="wind-buttons">
            <button data-dir="→">→</button>
            <button data-dir="←">←</button>
            <button data-dir="↑">↑</button>
            <button data-dir="↓">↓</button>
          </div>
          <div class="env-value" id="windDirDisplay">→</div>
        </div>
        <div class="env-row">
          <label for="windSpeed">風速 (m)</label>
          <input id="windSpeed" type="number" step="0.1" value="2.5"/>
          <span id="windSpeedDisplay">2.5 m</span>
        </div>
        <div class="env-row">
          <label for="wave">波高 (cm)</label>
          <input id="wave" type="number" step="1" value="10"/>
          <span id="waveDisplay">10 cm</span>
        </div>
      </div>

      <div class="tables card">
        <div class="table-box">
          <h3>平均スタートタイミング表</h3>
          <table id="avgTable">
            <thead>
              <tr><th>枠</th><th>選手番号</th><th>平均ST</th><th>表示</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="table-box">
          <h3>直近スタートタイミング表</h3>
          <table id="recentTable">
            <thead>
              <tr><th>枠</th><th>チルト</th><th>直近ST</th><th>表示</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- 下段：左=スタートライン後の展開図、右=1マーク旋回展開図 -->
    <section class="bottom-row">
      <div class="diagram card" id="postStartBox">
        <h3>スタートライン後の展開図</h3>
        <svg id="postStartSVG" viewBox="0 0 1000 420" preserveAspectRatio="xMidYMid meet"></svg>
        <div class="legend">（スタートライン＝縦線、右向きが進行方向）</div>
      </div>

      <div class="diagram card" id="markBox">
        <h3>1マーク旋回展開図</h3>
        <svg id="markSVG" viewBox="0 0 1000 420" preserveAspectRatio="xMidYMid meet"></svg>
        <div class="legend">（ターンマークは赤い三角）</div>
      </div>
    </section>

    <section class="controls card">
      <button id="refreshBtn">外部データ(サンプル)を再取得</button>
      <button id="resetBtn">入力をリセット</button>
      <div class="note">※ このデモはローカルのサンプルデータ (`/data/*.json`) を使用します。</div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>